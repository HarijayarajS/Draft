Hereâ€™s a clearer and well-structured version of your module and function documentation:


---

ğŸ“ Module: @apps/server-api/src/api/account.rs

ğŸ”§ Function: get_account_options


---

ğŸ”½ Input:

company_id: i32

input: AccountOptionInput

keyword: Option<String> â€“ (optional) Filter accounts whose name matches the keyword (case-insensitive match or partial match).

account_ids: Option<Vec<i64>> â€“ (optional) Filter accounts whose doc_id is in the given list.




---

ğŸ”¼ Output:

Vec<OptionItemString>
Each item contains:

id: String â†’ from doc_id

title: String â†’ from name



Defined in: @apps/server-api/src/model/mod.rs


---

ğŸ“„ Source Table:

SQL Table: account
Defined in: @db/table/0007_account.sql



---

ğŸ“Œ Function Description:

This function fetches account options for a given company_id from the account table.
It supports filtering based on:

A search keyword that matches account names (name column).

A list of account IDs (doc_id column).


Filtering Logic:

If both keyword and account_ids are provided â†’ apply both filters.

If only one is provided â†’ apply the respective filter.

If none is provided â†’ return all accounts under the specified company_id.


The result is returned as a vector of OptionItemString objects.


---

Let me know if you want the final function signature or example usage too.

